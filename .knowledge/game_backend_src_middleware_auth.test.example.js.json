{"is_source_file": true, "format": "JavaScript", "description": "This file provides example routes demonstrating the usage of authentication middleware and helpers in an Express application. It includes multiple route patterns such as protected routes, optional authentication, ownership checks, and helper function usage, along with testing instructions and documentation for developers.", "external_files": ["./auth.js"], "external_methods": ["authenticate", "optionalAuth", "requireOwnership", "isAuthenticated", "getCurrentUserId", "getCurrentUser"], "published": [], "classes": [], "methods": [{"name": "testAuth()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["express.Router()", "router.get()", "res.json()", "next()", "isAuthenticated(req)", "getCurrentUserId(req)", "getCurrentUser(req)"], "search-terms": ["auth middleware examples", "JWT protected route", "optional authentication express", "ownership middleware", "auth helper functions", "auth testing guide", "authentication in express", "auth.js import"], "state": 2, "file_id": 21, "knowledge_revision": 53, "git_revision": "f7a828da9e7f0829a4404b1fbb21d9f52533e2ef", "ctags": [{"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/middleware/auth.test.example.js", "pattern": "/^const data = await response.json();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "requireAdmin", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/middleware/auth.test.example.js", "pattern": "/^const requireAdmin = (req, res, next) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/middleware/auth.test.example.js", "pattern": "/^const response = await fetch('http:\\/\\/localhost:3001\\/api\\/player\\/stats', {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/middleware/auth.test.example.js", "pattern": "/^const router = express.Router();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "testAuth", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/middleware/auth.test.example.js", "pattern": "/^async function testAuth() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/middleware/auth.test.example.js", "pattern": "/^const token = session?.access_token;$/", "language": "JavaScript", "kind": "constant"}], "hash": "ff98faba9fde3d24665b352573787aca", "format-version": 4, "code-base-name": "game_backend", "filename": "game_backend/src/middleware/auth.test.example.js", "revision_history": [{"53": "f7a828da9e7f0829a4404b1fbb21d9f52533e2ef"}]}