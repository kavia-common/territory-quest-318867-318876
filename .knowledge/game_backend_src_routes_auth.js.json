{"is_source_file": true, "format": "JavaScript", "description": "Source file defining Express routes for user authentication, profile management, and username validation in a web backend.", "external_files": ["../middleware/auth.js", "../utils/supabase.js", "../utils/validation.js", "../middleware/rateLimiting.js", "../utils/logger.js"], "external_methods": ["authenticate", "optionalAuth", "getSupabaseClient", "callRPC", "validate", "successResponse", "errorResponse"], "published": ["/api/auth/signup", "/api/auth/me", "/api/auth/profile", "/api/auth/check-username/:username"], "classes": [], "methods": [{"name": "router.post('/signup')", "description": "Handles user signup, creates user profile, and initializes missions."}, {"name": "router.get('/me')", "description": "Retrieves current authenticated user's profile and stats."}, {"name": "router.put('/profile')", "description": "Updates current user's profile information."}, {"name": "router.get('/check-username/:username')", "description": "Checks if a username is available for registration."}], "calls": ["getSupabaseClient()", "callRPC()", "logger.info()", "logger.warn()", "logger.error()"], "search-terms": ["auth routes", "user profile", "signup endpoint", "get user info", "username validation", "rate limiting", "supabase", "express router"], "state": 2, "file_id": 38, "knowledge_revision": 112, "git_revision": "7b32d82aed68c50078d62934618de2741dd11fe7", "revision_history": [{"110": "288af2c5247aaa7338f150eb0dfbf9553b7048ac"}, {"112": "7b32d82aed68c50078d62934618de2741dd11fe7"}], "ctags": [{"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/auth.js", "pattern": "/^  body: Joi.object({$/", "language": "JavaScript", "kind": "property", "scope": "signupSchema", "scopeKind": "class"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/auth.js", "pattern": "/^  body: Joi.object({$/", "language": "JavaScript", "kind": "property", "scope": "updateProfileSchema", "scopeKind": "class"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/auth.js", "pattern": "/^const router = express.Router();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "signupSchema", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/auth.js", "pattern": "/^const signupSchema = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "updateProfileSchema", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/auth.js", "pattern": "/^const updateProfileSchema = {$/", "language": "JavaScript", "kind": "class"}], "hash": "94bc36d9f7c0f0cbfc68e1c21624c0db", "format-version": 4, "code-base-name": "game_backend", "filename": "game_backend/src/routes/auth.js", "fields": [{"name": "body: Joi.object({", "scope": "signupSchema", "scopeKind": "class", "description": "unavailable"}]}