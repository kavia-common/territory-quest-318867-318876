{"is_source_file": true, "format": "JavaScript", "description": "This file defines Express.js routes for user authentication and profile management in a game backend, including signup, profile update, and username availability checks.", "external_files": ["../middleware/auth.js", "../utils/supabase.js", "../utils/validation.js", "../utils/logger.js"], "external_methods": ["authenticate", "optionalAuth", "getSupabaseClient", "callRPC", "validate", "successResponse", "errorResponse"], "published": ["router"], "classes": [], "methods": [{"name": "router.post('/signup')", "description": "Handles user signup, creates profile and initial missions in database."}, {"name": "router.get('/me')", "description": "Returns authenticated user's profile, stats, and location."}, {"name": "router.put('/profile')", "description": "Updates current user's profile information."}, {"name": "router.get('/check-username/:username')", "description": "Checks if a username is available for registration."}], "calls": ["getSupabaseClient()", "callRPC('create_initial_missions')", "callRPC('get_user_missions')", "callRPC('get_player_stats')"], "search-terms": ["auth", "signup", "profile", "user", "username check", "missions", "user stats"], "state": 2, "file_id": 38, "knowledge_revision": 110, "git_revision": "288af2c5247aaa7338f150eb0dfbf9553b7048ac", "ctags": [{"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/auth.js", "pattern": "/^  body: Joi.object({$/", "language": "JavaScript", "kind": "property", "scope": "signupSchema", "scopeKind": "class"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/auth.js", "pattern": "/^  body: Joi.object({$/", "language": "JavaScript", "kind": "property", "scope": "updateProfileSchema", "scopeKind": "class"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/auth.js", "pattern": "/^const router = express.Router();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "signupSchema", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/auth.js", "pattern": "/^const signupSchema = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "updateProfileSchema", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/auth.js", "pattern": "/^const updateProfileSchema = {$/", "language": "JavaScript", "kind": "class"}], "hash": "0ec9e3268fccd642b039c81fed0d81a4", "format-version": 4, "code-base-name": "game_backend", "filename": "game_backend/src/routes/auth.js", "fields": [{"name": "body: Joi.object({", "scope": "signupSchema", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"110": "288af2c5247aaa7338f150eb0dfbf9553b7048ac"}]}