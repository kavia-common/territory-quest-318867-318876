{"is_source_file": true, "format": "JavaScript (Node.js with Express)", "description": "This file defines Express route handlers for managing user groups, including creating, retrieving, updating, inviting, joining, leaving, and deleting groups. It utilizes middleware for authentication and validation, interacts with a Supabase database, and manages group-related operations.", "external_files": ["../middleware/auth.js", "../utils/supabase.js", "../utils/validation.js", "../utils/logger.js", "uuid"], "external_methods": ["authenticate", "getSupabaseClient", "validate", "successResponse", "errorResponse"], "published": ["router"], "classes": [], "methods": [{"name": "POST /", "description": "Creates a new group with initial invite code if validation passes and user is authorized."}, {"name": "GET /my", "description": "Retrieves a list of groups that the current user is a member of."}, {"name": "GET /:groupId", "description": "Fetches detailed information about a group, including member list, if the user is a member."}, {"name": "PUT /:groupId", "description": "Updates group details (name and description), only if the user is the owner."}, {"name": "POST /:groupId/invite", "description": "Generates a new invite code for the group, only for owner or admin."}, {"name": "POST /join", "description": "Allows a user to join a group using an invite code."}, {"name": "DELETE /:groupId/leave", "description": "Removes the user from a group, if they are a member and not the owner."}, {"name": "DELETE /:groupId", "description": "Deletes a group, only if the user is the owner."}], "calls": ["getSupabaseClient()", "logger.info()", "logger.error()", "supabase.from().select()", "supabase.from().insert()", "supabase.from().update()", "supabase.from().delete()", "supabase.rpc()"], "search-terms": ["groups", "group management", "invite code", "join group", "leave group", "delete group", "update group", "get user groups", "group invitation", "group members"], "state": 2, "file_id": 39, "knowledge_revision": 111, "git_revision": "288af2c5247aaa7338f150eb0dfbf9553b7048ac", "ctags": [{"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/groups.js", "pattern": "/^  body: Joi.object({$/", "language": "JavaScript", "kind": "property", "scope": "createGroupSchema", "scopeKind": "class"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/groups.js", "pattern": "/^  body: Joi.object({$/", "language": "JavaScript", "kind": "property", "scope": "inviteCodeSchema", "scopeKind": "class"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/groups.js", "pattern": "/^  body: Joi.object({$/", "language": "JavaScript", "kind": "property", "scope": "joinGroupSchema", "scopeKind": "class"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/groups.js", "pattern": "/^  body: Joi.object({$/", "language": "JavaScript", "kind": "property", "scope": "updateGroupSchema", "scopeKind": "class"}, {"_type": "tag", "name": "createGroupSchema", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/groups.js", "pattern": "/^const createGroupSchema = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "inviteCodeSchema", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/groups.js", "pattern": "/^const inviteCodeSchema = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "joinGroupSchema", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/groups.js", "pattern": "/^const joinGroupSchema = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/groups.js", "pattern": "/^const router = express.Router();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updateGroupSchema", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/groups.js", "pattern": "/^const updateGroupSchema = {$/", "language": "JavaScript", "kind": "class"}], "hash": "e16612a907c63874dfa559f077caa029", "format-version": 4, "code-base-name": "game_backend", "filename": "game_backend/src/routes/groups.js", "fields": [{"name": "body: Joi.object({", "scope": "createGroupSchema", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"111": "288af2c5247aaa7338f150eb0dfbf9553b7048ac"}]}