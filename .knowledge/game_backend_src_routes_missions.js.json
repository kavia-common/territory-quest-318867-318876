{"is_source_file": true, "format": "JavaScript (ES6 modules)", "description": "This file defines Express.js route handlers related to user missions in the game backend. It includes endpoints to retrieve user missions and initialize default missions, using middleware for authentication and rate limiting, as well as input validation with Joi.", "external_files": ["../middleware/auth.js", "../utils/supabase.js", "../middleware/rateLimiting.js", "../utils/logger.js"], "external_methods": ["authenticate", "callRPC", "readLimiter", "writeLimiter", "logger.error"], "published": [], "classes": [], "methods": [{"name": "validate", "description": "Validation middleware factory that validates request parameters, body, and query against Joi schemas."}], "calls": ["callRPC('get_user_missions', {...})", "callRPC('create_initial_missions', {...})"], "search-terms": ["missions route", "game backend missions API", "get_user_missions", "create_initial_missions", "express router missions"], "state": 2, "file_id": 16, "knowledge_revision": 114, "git_revision": "7b32d82aed68c50078d62934618de2741dd11fe7", "revision_history": [{"43": "c2b4720579c8e11ff8f0ec060c27f46eeddaf35b"}, {"59": "b6e1afb1699bb8488e9e9a23dadccf9079ddfd56"}, {"114": "7b32d82aed68c50078d62934618de2741dd11fe7"}], "ctags": [{"_type": "tag", "name": "abortEarly", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/missions.js", "pattern": "/^      abortEarly: false,$/", "language": "JavaScript", "kind": "property", "scope": "validationOptions", "scopeKind": "class"}, {"_type": "tag", "name": "allowUnknown", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/missions.js", "pattern": "/^      allowUnknown: true,$/", "language": "JavaScript", "kind": "property", "scope": "validationOptions", "scopeKind": "class"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/missions.js", "pattern": "/^      const errors = error.details.map(detail => ({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/missions.js", "pattern": "/^const router = express.Router();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "schemaToValidate", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/missions.js", "pattern": "/^    const schemaToValidate = Joi.object(schema);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "stripUnknown", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/missions.js", "pattern": "/^      stripUnknown: true$/", "language": "JavaScript", "kind": "property", "scope": "validationOptions", "scopeKind": "class"}, {"_type": "tag", "name": "toValidate", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/missions.js", "pattern": "/^    const toValidate = {};$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validate", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/missions.js", "pattern": "/^const validate = (schema) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validationOptions", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/routes/missions.js", "pattern": "/^    const validationOptions = {$/", "language": "JavaScript", "kind": "class"}], "hash": "4854a9889d5a704cb19a9e8fd0075ab6", "format-version": 4, "code-base-name": "game_backend", "filename": "game_backend/src/routes/missions.js", "fields": [{"name": "abortEarly: false,", "scope": "validationOptions", "scopeKind": "class", "description": "unavailable"}, {"name": "allowUnknown: true,", "scope": "validationOptions", "scopeKind": "class", "description": "unavailable"}, {"name": "stripUnknown: true", "scope": "validationOptions", "scopeKind": "class", "description": "unavailable"}]}