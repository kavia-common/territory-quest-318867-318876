{"is_source_file": true, "format": "SQL (PostgreSQL PL/pgSQL)", "description": "This file contains a collection of PL/pgSQL functions implementing remote procedure calls (RPCs) for a game backend, specifically for a territory conquest game. It includes spatial queries for zone retrieval, capture mechanics, attack and defend actions, player statistics, mission management, notifications, activity logs, and utility functions related to user location and attack range detection.", "external_files": ["zones", "users", "notifications", "activity_log", "missions"], "external_methods": ["ST_MakeEnvelope", "ST_DistanceSphere", "ST_MakePoint", "ST_Centroid", "generate_grid_id", "generate_zone_geom", "award_ep", "update_mission_progress"], "published": ["get_zones_in_bounds", "calculate_distance_meters", "get_zones_within_radius", "capture_zone", "attack_zone", "defend_zone", "get_player_stats", "get_leaderboard", "update_mission_progress", "get_user_missions", "create_initial_missions", "get_user_notifications", "mark_notification_read", "mark_all_notifications_read", "get_user_activity_log", "is_in_attack_range", "update_user_location"], "classes": [], "methods": [], "calls": ["PERFORM award_ep", "PERFORM update_mission_progress", "PERFORM create_initial_missions", "PERFORM update_mission_progress", "PERFORM award_ep", "PERFORM update_mission_progress", "PERFORM award_ep", "PERFORM update_mission_progress", "PERFORM award_ep", "PERFORM update_mission_progress", "PERFORM award_ep", "PERFORM update_mission_progress", "PERFORM award_ep", "PERFORM update_mission_progress"], "search-terms": ["spatial zones", "capture mechanics", "attack and defend functions", "player stats", "missions", "notifications", "activity logs", "user location", "attack range", "zone spatial query", "PostgreSQL functions", "PL/pgSQL RPCs"], "state": 2, "file_id": 4, "knowledge_revision": 12, "git_revision": "536fe4a6b2fa0c3b8cdf9e84c981fc2aac9de21e", "revision_history": [{"9": "2d4acf7d979bf16a753d2fd3d0fb320f3da6caa4"}, {"12": "536fe4a6b2fa0c3b8cdf9e84c981fc2aac9de21e"}], "hash": "aa402d62bff13b2a93146d2e4cf3b426", "format-version": 4, "code-base-name": "game_backend", "filename": "game_backend/rpc.sql"}