{"is_source_file": true, "format": "JavaScript", "description": "This file contains validation utilities, response formatters, and Joi schema definitions used for validating request parameters (such as coordinates, UUIDs, pagination, and zone IDs) and middleware for request validation within an Express.js server.", "external_files": ["./logger.js"], "external_methods": ["Joi.object", "Joi.number().min().max().required().messages()", "Joi.string().uuid().messages()", "Joi.string().pattern()"], "published": ["successResponse", "errorResponse", "validate", "coordinateSchema", "uuidSchema", "paginationSchema", "zoneIdSchema"], "classes": [], "methods": [{"name": "successResponse", "description": "Formats a successful response object with optional message and data payload."}, {"name": "errorResponse", "description": "Formats an error response object with message, status code, and optional error details."}, {"name": "validate", "description": "Creates an Express middleware for validating request data against provided Joi schemas with custom options, logging validation failures."}], "calls": ["Joi.object(schema)", "Joi.number().min().max().required().messages()", "Joi.string().uuid().messages()", "Joi.string().pattern()", "logger.warn"], "search-terms": ["validation middleware", "Joi schemas", "response formatting", "coordinate validation", "UUID validation", "pagination validation", "zone ID validation"], "state": 2, "file_id": 23, "knowledge_revision": 56, "git_revision": "b6e1afb1699bb8488e9e9a23dadccf9079ddfd56", "ctags": [{"_type": "tag", "name": "abortEarly", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^      abortEarly: false, \\/\\/ Return all errors$/", "language": "JavaScript", "kind": "property", "scope": "validationOptions", "scopeKind": "class"}, {"_type": "tag", "name": "allowUnknown", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^      allowUnknown: true, \\/\\/ Allow unknown keys that will be ignored$/", "language": "JavaScript", "kind": "property", "scope": "validationOptions", "scopeKind": "class"}, {"_type": "tag", "name": "coordinateSchema", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^export const coordinateSchema = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^    data$/", "language": "JavaScript", "kind": "field", "scope": "response", "scopeKind": "class"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^    error: {$/", "language": "JavaScript", "kind": "property", "scope": "response", "scopeKind": "class"}, {"_type": "tag", "name": "errorResponse", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^export const errorResponse = (message, statusCode = 500, errors = null) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^      const errors = error.details.map(detail => ({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "lat", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^  lat: Joi.number().min(-90).max(90).required().messages({$/", "language": "JavaScript", "kind": "property", "scope": "coordinateSchema", "scopeKind": "class"}, {"_type": "tag", "name": "limit", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^  limit: Joi.number().integer().min(1).max(1000).default(100).messages({$/", "language": "JavaScript", "kind": "property", "scope": "paginationSchema", "scopeKind": "class"}, {"_type": "tag", "name": "lon", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^  lon: Joi.number().min(-180).max(180).required().messages({$/", "language": "JavaScript", "kind": "property", "scope": "coordinateSchema", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^      message,$/", "language": "JavaScript", "kind": "field", "scope": "response.error", "scopeKind": "class"}, {"_type": "tag", "name": "offset", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^  offset: Joi.number().integer().min(0).default(0).messages({$/", "language": "JavaScript", "kind": "property", "scope": "paginationSchema", "scopeKind": "class"}, {"_type": "tag", "name": "paginationSchema", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^export const paginationSchema = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^  const response = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "schemaToValidate", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^    const schemaToValidate = Joi.object(schema);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "stripUnknown", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^      stripUnknown: true \\/\\/ Remove unknown keys$/", "language": "JavaScript", "kind": "property", "scope": "validationOptions", "scopeKind": "class"}, {"_type": "tag", "name": "success", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^    success: false,$/", "language": "JavaScript", "kind": "property", "scope": "response", "scopeKind": "class"}, {"_type": "tag", "name": "success", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^    success: true,$/", "language": "JavaScript", "kind": "property", "scope": "response", "scopeKind": "class"}, {"_type": "tag", "name": "successResponse", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^export const successResponse = (data, message = null) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "toValidate", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^    const toValidate = {};$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "uuidSchema", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^export const uuidSchema = Joi.string().uuid().messages({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validate", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^export const validate = (schema) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validationOptions", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^    const validationOptions = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "zoneIdSchema", "path": "/home/kavia/workspace/code-generation/territory-quest-318867-318876/game_backend/src/utils/validation.js", "pattern": "/^export const zoneIdSchema = Joi.string().pattern(\\/^-?\\\\d+_-?\\\\d+$\\/).messages({$/", "language": "JavaScript", "kind": "constant"}], "hash": "839ba35015080dda12be38050bdd3be4", "format-version": 4, "code-base-name": "game_backend", "filename": "game_backend/src/utils/validation.js", "fields": [{"name": "abortEarly: false, \\/\\/ Return all errors", "scope": "validationOptions", "scopeKind": "class", "description": "unavailable"}, {"name": "allowUnknown: true, \\/\\/ Allow unknown keys that will be ignored", "scope": "validationOptions", "scopeKind": "class", "description": "unavailable"}, {"name": "data", "scope": "response", "scopeKind": "class", "description": "unavailable"}, {"name": "error: {", "scope": "response", "scopeKind": "class", "description": "unavailable"}, {"name": "lat: Joi.number().min(-90).max(90).required().messages({", "scope": "coordinateSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "limit: Joi.number().integer().min(1).max(1000).default(100).messages({", "scope": "paginationSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "lon: Joi.number().min(-180).max(180).required().messages({", "scope": "coordinateSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "message,", "scope": "response.error", "scopeKind": "class", "description": "unavailable"}, {"name": "offset: Joi.number().integer().min(0).default(0).messages({", "scope": "paginationSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "stripUnknown: true \\/\\/ Remove unknown keys", "scope": "validationOptions", "scopeKind": "class", "description": "unavailable"}, {"name": "success: false,", "scope": "response", "scopeKind": "class", "description": "unavailable"}, {"name": "success: true,", "scope": "response", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"56": "b6e1afb1699bb8488e9e9a23dadccf9079ddfd56"}]}